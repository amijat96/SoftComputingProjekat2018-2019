import cv2

import sys


while cap.isOpened():
    ret, firstFrame = cap.read()

    image_gray = cv2.cvtColor(firstFrame, cv2.COLOR_BGR2GRAY)
    #img = roi.image_bin(image_gray)
    # img_bin = roi.erode(roi.dilate(img))
    ret,img = cv2.threshold(image_gray, 30, 255, cv2.THRESH_BINARY)

    selected_regions = roi.select_roi(firstFrame.copy())
    #selected_regions = roi.select_roi1(firstFrame.copy(),img)

    #cv2.imshow('g',selected_regions)
    if cv2.waitKey(1) & 0xFF == ord('q'):
        break
cap.release()
cv2.destroyAllWindows()



res = []
n = 0
with open('res.txt') as file:
    data = file.read()
    lines = data.split('\n')
    for id, line in enumerate(lines):
        if(id>0):
            cols = line.split('\t')
            if(cols[0] == ''):
                continue
            cols[1] = cols[1].replace('\r', '')
            res.append(float(cols[1]))
            n += 1

cc=-1
def nextId():
    global cc
    cc += 1
    return cc

	
	>>> print('coefficient of determination:', r_sq)
coefficient of determination: 0.9453701449127822
>>> print('intercept:', intercept)
intercept: 0.8430556452395734
>>> print('coefficients:', coefficients, sep='\n')
coefficients:
[ 2.44828275  0.16160353 -0.15259677  0.47928683 -0.4641851 ]
>>> print('predicted response:', y_pred, sep='\n')
predicted response:
[ 0.54047408 11.36340283 16.07809622 15.79139    29.73858619 23.50834636
 39.05631386 41.92339046]
 
 
def resenje(path):

    cap = cv2.VideoCapture(path)

   
    upper = np.array([255, 255, 255])

    fourcc = cv2.VideoWriter_fourcc(*'XVID')
    out = cv2.VideoWriter('images/output-rezB.avi',fourcc, 20.0, (640,480))

    elements = []
    t =0
    counter = 0
    times = []

    while 1:
        start_time = time.time()
        ret, img = cap.read()

        if ret == False:
            break




for index, res_col in enumerate(res):
    diff += abs(res_col - student_results[index])
percentage = 100 - abs(diff/sum(res))*100

print(student)
print('Procenat tacnosti:\t'+str(percentage))
print('Ukupno:\t'+str(n))
